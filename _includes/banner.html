<div id='banner'></div>

<script>
banner = SVG('banner')
logo = banner.link('/')
rects = []


rect = logo.defs()
           .rect(1, 1)
           .stroke({width: 0.1})
           .addClass('front')

shade = logo.defs()
            .rect(1, 1)
            .stroke({width: 0.05})
            .addClass('shade')

$.getJSON('assets/images/logos/pikesley.svg.json', function(data) {
  banner.viewbox({
    x: 0,
    y: 0,
    width: data['width'],
    height: data['height']
  })

  $.each(data['data'], function(i, points) {
    rects[i] = logo.use(rect).move(points['x'], points['y'])
  })
})

window.onload = function start() {
  glitch();
}

function glitch() {
  window.setInterval(function() {
    if(rects.length) {
      rects.splice(Math.floor(Math.random() * rects.length), 1)[0]
           .animate(2000, '<>', 1000)
           .opacity(0)
    }
  }, Math.random() * 10000)
}
</script>
